// Actualizar n√∫mero en el icono del carrito
function updateCartCount() {
    const count = cart.length;
    document.getElementById('cartBtn').textContent = `üõí Carrito (${count})`;
}

// Agregar al carrito
function addToCart(i){
    cart.push(products[i]);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    alert('A√±adido al carrito!');
}

// Quitar del carrito
function removeFromCart(i){
    cart.splice(i,1);
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
    updateCartCount();
}

// Mostrar carrito
function renderCart(){
    const cartDiv = document.getElementById('cartItems');
    if(cart.length === 0){
        cartDiv.innerHTML = '<p>El carrito est√° vac√≠o.</p>';
    } else {
        cartDiv.innerHTML = '';
        cart.forEach((p,i)=>{
            const item = document.createElement('div');
            item.style.display = 'flex';
            item.style.justifyContent = 'space-between';
            item.style.marginBottom = '8px';
            item.innerHTML = `<span>${p.name} - Q${p.price}</span> <button onclick="removeFromCart(${i})">‚ùå</button>`;
            cartDiv.appendChild(item);
        });
    }
}

// Abrir carrito
document.getElementById('cartBtn').onclick = () => {
    document.getElementById('cartModal').style.display='flex';
    renderCart();
};

// Inicializar contador al cargar la p√°gina
updateCartCount();
